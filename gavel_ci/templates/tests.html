{% extends "layout.html" %}
{% block body %}
<h1>Gavel CI Build: {{project}} #{{build}} - {{run.name}} Tests</h1>

{% for test in reports %}
<h3>{{test.name}}</h3>
<div style="padding-left: 20px;">
<dl class="row">
  <dt class="col-sm-3">Status</dt>
  {% if test.status == 'PASSED' %}
  <dd class="text-success">{{test.status}}</dd>
  {% elif test.status == 'FAILED' %}
  <dd class="text-danger">{{test.status}}</dd>
  {% else %}
  <dd>{{test.status}}</dd>
  {% endif %}

  <dt class="col-sm-3">Context</dt>
  <dd>{{test.context}}</dd>

  <dt class="col-sm-3">Created</dt>
  <dd>{{test.created}}</dd>
</dl>
</div>

{% if test.results %}
<h4>Results</h4>
<table class="table table-striped table-bordered">
  <thead>
    <tr><th>Name</th><th>Status</th></tr>
  </thead>
  <tbody>
{% for result in test.results %}
  <tr>
    <td><a href={{result.context}}>{{result.name}}</a></td>
    {% if result.status == 'PASSED' %}
    <td class="bg-success">{{result.status}}</td>
    {% elif result.status == 'FAILED' %}
    <td class="bg-danger">{{result.status}}</td>
    {% else %}
    <td>{{result.status}}</td>
    {% endif %}
  </tr>
{% endfor %}
  </tbody>
</table>
{% endif %}

{% endfor %}

{% endblock %}
